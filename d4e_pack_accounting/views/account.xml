<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.ui.menu" id="account.menu_action_account_moves_all">
        <field eval="[(3, ref('base.group_no_one'))]" name="groups_id"/>
    </record>

    <function name="write" model="ir.model.data">
        <function name="search" model="ir.model.data">
            <value eval="[('module', '=', 'account_reports'), ('name', 'ilike', 'account_financial_html_report_menu_')]"/>
        </function>
        <value eval="{'noupdate': False}"/>
    </function>

    <record model="ir.ui.menu" id="account_reports.account_financial_html_report_menu_1">
        <field eval="False" name="active"/>
    </record>

    <record model="ir.ui.menu" id="account_reports.account_financial_html_report_menu_2">
        <field eval="False" name="active"/>
    </record>

    <function name="write" model="ir.model.data">
        <function name="search" model="ir.model.data">
            <value eval="[('module', '=', 'account_reports'), ('name', 'ilike', 'account_financial_html_report_menu_')]"/>
        </function>
        <value eval="{'noupdate': True}"/>
    </function>

    <record id="view_move_form" model="ir.ui.view">
        <field name="name">account.move.form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@id='header_left_group']" position="replace">
                <group id="header_left_group">
                    <div class="o_td_label">
                        <label for="partner_id" string="Customer" style="font-weight:bold;"
                               attrs="{'invisible': [('move_type', 'not in', ('out_invoice', 'out_refund', 'out_receipt'))]}"/>
                        <label for="partner_id" string="Vendor" style="font-weight:bold;"
                               attrs="{'invisible': [('move_type', 'not in', ('in_invoice', 'in_refund', 'in_receipt'))]}"/>
                    </div>
                    <field name="partner_id" widget="res_partner_many2one" nolabel="1"
                           context="{
                                            'res_partner_search_mode': (context.get('default_move_type', 'entry') in ('out_invoice', 'out_refund', 'out_receipt') and 'customer') or (context.get('default_move_type', 'entry') in ('in_invoice', 'in_refund', 'in_receipt') and 'supplier') or False,
                                            'show_address': 1, 'default_is_company': True, 'show_vat': True}"
                           options='{"always_reload": True, "no_quick_create": True}'
                           attrs="{'invisible': [('move_type', 'not in', ('out_invoice', 'out_refund', 'in_invoice', 'in_refund', 'out_receipt', 'in_receipt'))]}"/>
                    <field name="internal_reference"/>
                    <label for="ref" string="Bill Reference"
                           attrs="{'invisible':[('move_type', 'not in', ('in_invoice', 'in_receipt', 'in_refund'))]}"/>
                    <field name="ref" nolabel="1"
                           attrs="{'invisible':[('move_type', 'not in', ('in_invoice', 'in_receipt', 'in_refund'))]}"/>
                    <field name="ref"
                           attrs="{'invisible':[('move_type', 'in', ('in_invoice', 'in_receipt', 'in_refund', 'out_invoice', 'out_refund','entry'))]}"/>
                    <field name="payment_reference"
                           attrs="{'invisible': [('move_type', 'not in', ('out_invoice', 'out_refund', 'in_invoice', 'in_refund', 'out_receipt', 'in_receipt'))], 'readonly': [('state', '!=', 'draft')]}"/>
                    <field name="partner_bank_id"
                           context="{'default_partner_id': bank_partner_id}"
                           domain="[('partner_id', '=', bank_partner_id)]"
                           attrs="{'invisible': [('move_type', 'not in', ('in_invoice', 'in_refund', 'in_receipt'))], 'readonly': [('state', '!=', 'draft')]}"/>
                    <label name="invoice_vendor_bill_id_label" for="invoice_vendor_bill_id" string="Auto-Complete"
                           class="oe_edit_only"
                           attrs="{'invisible': ['|', ('state', '!=', 'draft'), ('move_type', '!=', 'in_invoice')]}"/>
                    <field name="invoice_vendor_bill_id" nolabel="1" class="oe_edit_only"
                           attrs="{'invisible': ['|', ('state', '!=', 'draft'), ('move_type', '!=', 'in_invoice')]}"
                           domain="[('company_id', '=', company_id), ('partner_id','child_of', [partner_id]), ('move_type','=','in_invoice')]"
                           placeholder="Select an old vendor bill"
                           options="{'no_create': True}" context="{'show_total_amount': True}"/>
                </group>
            </xpath>
        </field>
    </record>

    <record id="account_invoice_view_tree" model="ir.ui.view">
        <field name="name">account.move.tree.inherit</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_invoice_tree"/>
        <field name="arch" type="xml">
            <field name="ref" position="after">
                <field name="internal_reference"/>
            </field>
        </field>
    </record>

    <record id="view_account_invoice_filter" model="ir.ui.view">
        <field name="name">account.invoice.select.account_check_printing</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_account_invoice_filter"/>
        <field name="arch" type="xml">
            <field name="name" position="after">
                <field name="ref"/>
                <field name="internal_reference"/>
            </field>
        </field>
    </record>

    <menuitem id="menu_action_res_partner_bank_form"
              action="base.action_res_partner_bank_account_form"
              parent="account.account_banks_menu"
              sequence="2"/>

    <menuitem id="menu_config_banks_list"
              name="Banks List"
              action="base.action_res_bank_form"
              parent="account.account_banks_menu"
              sequence="4"/>
</odoo>
